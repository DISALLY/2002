<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小米商城</title>
</head>
<link rel="stylesheet" href="./css/index.css">
<link rel="icon" href="./img/logo.jpg" type="image/x-icon">
<script src="./JS/mainlunbo.js"></script>
<body>
    <div class="header">
        <div class="container w">
          <ul class="left">
            <li><a href="#">小米商城</a><span>|</span></li>
            <li><a href="#">MIUI</a><span>|</span></li>
            <li><a href="#">IoT</a><span>|</span></li>
            <li><a href="#">云服务</a><span>|</span></li>
            <li><a href="#">金融</a><span>|</span></li>
            <li><a href="#">有品</a><span>|</span></li>
            <li><a href="#">小爱开放平台</a><span>|</span></li>
            <li><a href="#">企业团购</a><span>|</span></li>
            <li><a href="#">资质证照</a><span>|</span></li>
            <li><a href="#">协议规则</a><span>|</span></li>
            <li><a href="#">下载app</a><span>|</span></li>
            <li><a href="#">Select Location</a></li>
          </ul>
          <ul class="right">
            <li><a href="./signIn.html"  class="userName">登录</a><span>|</span></li>
            <li><a href="./signUp.html">注册</a><span>|</span></li>
            <li><a href="#">消息通知</a><span>|</span></li>
            <li><a href="car.html">购物车</a><span>|</span></li>
          </ul>
        </div>
      </div>
  
      <div class="top">
        <div class="nav w">
          <div class="log">
            <a href="index.html"></a>
          </div>
          <div class="list">
            <ul>
              <li><a href="#">小米</a></li>
              <li><a href="#">Redmi红米</a></li>
              <li><a href="#">电视</a></li>
              <li><a href="#">笔记本</a></li>
              <li><a href="#">家电</a></li>
              <li><a href="#">路由器</a></li>
              <li><a href="#">智能硬件</a></li>
              <li><a href="#">服务</a></li>
              <li><a href="#">社区</a></li>
            </ul>
          </div>
          <form action="" class="search">
            <input class="inbox" type="text" value="" />
            <input class="insub" type="submit" value="" />
          </form>
        </div>
      </div>
      <!-- 轮播图 -->
      <div class="banner w">
        <div class="imgCon">
          <img src="./img/01.jpg" style="opacity: 1;" alt="" />
          <img src="./img/02.jpg" style="opacity: 0;" alt="" />
          <img src="./img/03.jpg" style="opacity: 0;" alt="" />
          <img src="./img/04.jpg" style="opacity: 0;" alt="" />
          <img src="./img/05.jpg" style="opacity: 0;" alt="" />
        </div>
        <img src="./img/left.png" class="leftBn" alt="" />
        <img src="./img/right.png" class="rightBn" alt="" />
        <!-- 圆点 -->
        <ul class="clear">
          <li></li>
          <li></li>
          <li></li>
          <li></li>
          <li></li>
        </ul>
        <div class="ban-left">
          <ul>
            <li>
              <a href="#"> 手机 电话卡 <span>&gt;</span></a>
            </li>
            <li>
              <a href="#">电视 盒子 <span>&gt;</span></a>
            </li>
            <li>
              <a href="#">笔记本 显示器 平板 <span>&gt;</span></a>
            </li>
            <li>
              <a href="#">家电 插线板<span>&gt;</span></a>
            </li>
            <li>
              <a href="#">出行 穿戴<span>&gt;</span></a>
            </li>
            <li>
              <a href="#">智能 路由器 <span>&gt;</span></a>
            </li>
            <li>
              <a href="#">电源 配件 <span>&gt;</span></a>
            </li>
            <li>
              <a href="#">健康 儿童<span>&gt;</span></a>
            </li>
            <li>
              <a href="#">耳机 音响<span>&gt;</span></a>
            </li>
            <li>
              <a href="#">生活 箱包 <span>&gt;</span></a>
            </li>
          </ul>
        </div>
      </div>
      <div class="ban-bottom w">
        <div class="ban-bottom-left">
          <ul>
            <li><a href="">小米秒杀</a></li>
            <li><a href="">企业团购</a></li>
            <li><a href="">F码通道</a></li>
            <li><a href="">米粉卡</a></li>
            <li><a href="">以旧换新</a></li>
            <li><a href="">话费充值</a></li>
          </ul>
        </div>
        <a href="./info.html?id=10001"><img src="./img/a.jpg" alt="" /></a>
        <a href="./info.html?id=10002"><img src="./img/b.jpg" alt="" /></a>
        <a href="./info.html?id=10003"><img src="./img/c.jpg" alt="" /></a>
      </div>
      <!-- 背景色发生改变区域 -->
      <div class="main">
            <!-- 小米闪购 -->
              <div class="row">
                  <h2>小米闪购</h2>
                  <div class="row-left">
                    <img src="./img/dian.png" alt="">
                    <span>距离结束还有</span>
                    <!-- 倒计时 -->
                    <div id="times"></div>
                  </div>
                  
                  <div class="mainCenter1-right">
                    <ul class="mainCenter1Banner">
                        <li>
                            <a href="#">
                                <img src="./img/main_a.jpg" alt="">
                                <h3>米兔儿童书包2 小号 粉红色</h3>
                                <p class="desc">校园生活好伴侣</p>
                                <p class="price"><span>99元</span> <del>199元</del></p>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <img src="./img/main_b.jpg" alt="">
                                <h3>米兔儿童书包2 小号 深蓝色</h3>
                                <p>校园生活好伴侣</p>
                                <p><span>99元</span> <del>199元</del></p>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <img src="./img/main_c.jpg" alt="">
                                <h3>3卷装抽绳式垃圾袋</h3>
                                <p class="desc">让清洁更简单</p>
                                <p class="price"><span>9.9元</span> <del>14.9元</del></p>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <img src="./img/main_d.jpg" alt="">
                                <h3>小米【小爱老师】</h3>
                                <p class="desc">英语提分利器</p>
                                <p class="price"><span>499元起</span> </p>
                            </a>
                        </li>
                        
                    </ul>
                </div>
              </div>
              
        </div>
        <div class="advert">
           <a href="#"><img src="./img/Redmi10X.jpg" alt=""></a>
        </div>
      </div>   
      <!-- 商品列表 -->
      <div id="page1">
        <iframe align="center" width="100%" height="1000" src="./shoppingList.html"  frameborder="no" border="0" marginwidth="0" marginheight="0" scrolling="no"></iframe>
      </div>
      <script>
        // 轮播图
        var leftBn, rightBn, list, prevDot, imgCon;
        var pos = 0,
          time = 150,
          bool = true;
        init();
        function init() {
          //获取左右按钮
          leftBn = document.querySelector(".leftBn");
          rightBn = document.querySelector(".rightBn");
          imgCon = document.querySelector(".imgCon");
          //将所有li获取并转换为数组
          list = Array.from(document.querySelectorAll(".clear>li"));
          img = Array.from(document.querySelectorAll(".imgCon>img"));
          //给左右按钮增加点击事件
          leftBn.addEventListener("click", clickHandler);
          rightBn.onclick = clickHandler;
          list.forEach(function (item) {
            item.onclick = dotClickHandler;
          });
          //自动轮播
          setInterval(animation, 16);
          imgCon.addEventListener("mouseenter", mouseHandler);
          imgCon.addEventListener("mouseleave", mouseHandler);
          // 倒计时
          times=document.getElementById("times");
              var date=new Date();
              // 设置时间3小时后
              date.setHours(date.getHours()+2);
              // 获取这个时间的毫秒数，未来的时间戳，这个时间到1970.1.1的毫秒数
              targetTime=date.getTime();
              // 每16毫秒执行下面的函数
             ids=setInterval(enterFrame,16);
             // 商品列表
          
        }
        function mouseHandler(e) {
          if (e.type === "mouseenter") {
            bool = false;
            time = 150;
          } else if (e.type === "mouseleave") {
            bool = true;
          }
        }
        function animation() {
          if (!bool) return;
          time--;
          if (time > 0) return;
          time = 150;
          var evt = new MouseEvent("click");
          rightBn.dispatchEvent(evt);
        }
        function clickHandler(e) {
          img[pos].style.opacity = "0";
          if (this === leftBn) {
            pos--;
            if (pos < 0) pos = 4;
          } else {
            pos++;
            if (pos > 4) pos = 0;
          }
          img[pos].style.opacity = "1";
          changeDot();
        }
        function dotClickHandler() {
          //this就是被点击的元素，list就是所有小圆点的数组
          //查找当前点击小圆点的数组中第几个，这个第几个正好就是我们要显示第几图片
          img[pos].style.opacity = "0";
          pos = list.indexOf(this);
          img[pos].style.opacity = "1";
          changeDot();
        }
        function changeDot() {
          //如果上一个小圆点变量存在
          if (prevDot) {
            //设置上一个小圆点的背景颜色
            prevDot.style.background = "rgba(0,0,0,.4)";
          }
          //list就是小圆点的数组，pos就是当前应该显示第几张图
          prevDot = list[pos];
          prevDot.style.background = "rgba(255,255,255)";
        }
        // 倒计时
        var targetTime,times,ids;
  
  
          function enterFrame(){
              // 每间隔16毫秒执行这个函数
              // 重新获取当前的时间
              var date=new Date();
              // 重新获取当前时间戳 现在到1970.1.1的毫秒数
              var time=date.getTime();
              // console.log(targetTime-time);//10795679 毫秒
              // 用未来到1970.1.1的毫秒数-现在到1970.1.1的毫秒数，这个就是现在到未来的时间差毫秒数
              // 这是毫秒变成秒数，就要/1000，做四舍五入，进到秒
              time=Math.round((targetTime-time)/1000);
              // 10796 秒  1小时3600秒
                    // 1小时是3600秒  除3600向下取整就是小时数
              var hours=Math.floor(time/3600);
      //     1小时3600毫秒，除3600取余数，就是除了小时之外的所有秒数，除60是分钟
              var minutes=Math.floor((time%3600)/60);
              // 用当前秒-小时所用的秒-分所用的秒，就是剩余的秒数
              var seconds=time-hours*3600-minutes*60;
              times.innerHTML=(hours<10 ? "0"+hours : hours)+":"+
              (minutes<10 ? "0"+minutes : minutes)+":"+
              (seconds<10 ? "0"+seconds : seconds);
              if(hours+minutes+seconds===0){
                  clearInterval(ids);
              }
          }
     
      </script>
      
      <script>
        singin();
         var userName,userId
          function singin(){
                 userName=document.querySelector(".userName");
                 userId=window.location.search.substr(1).split("=")[1];
         
          if(userId)userName.textContent=userId;
                 
          }
  </script>
      <div id="page2">
          <iframe align="center" width="100%" height="600" src="./bottom.html"  frameborder="no" border="0" marginwidth="0" marginheight="0" scrolling="no"></iframe>
     </div>
</body>
</html>